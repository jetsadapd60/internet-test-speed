# System Control Protocol Tuning for High Bandwidth & Low Latency

# Increase system-wide file descriptors
fs.file-max = 2097152

# Increase TCP max buffer size (32MB)
net.core.rmem_max = 33554432
net.core.wmem_max = 33554432

# Increase Linux autotuning TCP buffer limits
# min, default, and max number of bytes to use
net.ipv4.tcp_rmem = 4096 87380 33554432
net.ipv4.tcp_wmem = 4096 65536 33554432

# Enable BBR Congestion Control (requires Linux Kernel 4.9+)
net.core.default_qdisc = fq
net.ipv4.tcp_congestion_control = bbr

# TCP Tw Reuse (Recycle sockets quickly)
net.ipv4.tcp_tw_reuse = 1

# Increase backlog for incoming connections
net.core.somaxconn = 65535
net.ipv4.tcp_max_syn_backlog = 65535

# Reduce Keepalive time (dead connection detection)
net.ipv4.tcp_keepalive_time = 600
net.ipv4.tcp_keepalive_intvl = 60
net.ipv4.tcp_keepalive_probes = 5
